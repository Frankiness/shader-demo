<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      // 打开模态窗口
      function openWindow1(url, title, w, h) {
        const dualScreenLeft =
          window.screenLeft !== undefined ? window.screenLeft : screen.left;
        const dualScreenTop =
          window.screenTop !== undefined ? window.screenTop : screen.top;

        const width = window.innerWidth
          ? window.innerWidth
          : document.documentElement.clientWidth
          ? document.documentElement.clientWidth
          : screen.width;
        const height = window.innerHeight
          ? window.innerHeight
          : document.documentElement.clientHeight
          ? document.documentElement.clientHeight
          : screen.height;

        const left = width / 2 - w / 2 + dualScreenLeft;
        const top = height / 2 - h / 2 + dualScreenTop;
        const newWindow = window.open(
          url,
          title,
          "toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, copyhistory=no, width=" +
            w +
            ", height=" +
            h +
            ", top=" +
            top +
            ", left=" +
            left
        );
        newWindow.onload = function () {
          // 定时器根据实际情况取舍。
          setTimeout(function () {
            newWindow.document.title = title;
          }, 100);
        };

        if (window.focus) {
          newWindow.focus();
        }
      }
      // 打开模态窗口
      function openWindow(url, title, w, h) {
        const dualScreenLeft =
          window.screenLeft !== undefined ? window.screenLeft : screen.left;
        const dualScreenTop =
          window.screenTop !== undefined ? window.screenTop : screen.top;

        const width = window.innerWidth
          ? window.innerWidth
          : document.documentElement.clientWidth
          ? document.documentElement.clientWidth
          : screen.width;
        const height = window.innerHeight
          ? window.innerHeight
          : document.documentElement.clientHeight
          ? document.documentElement.clientHeight
          : screen.height;

        const left = width / 2 - w / 2 + dualScreenLeft;
        const top = height / 2 - h / 2 + dualScreenTop;
        const newWindow = window.open(
          "about:blank",
          title,
          "toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=yes, copyhistory=no, width=" +
            w +
            ", height=" +
            h +
            ", top=" +
            top +
            ", left=" +
            left
        );
        newWindow.document.title = title;

        let iframe = document.createElement("iframe");
        iframe.src = url;
        iframe.style.width = "100%";
        iframe.style.height = "100vh";
        iframe.style.margin = "0";
        iframe.style.padding = "0";
        iframe.style.overflow = "hidden";
        iframe.style.border = "none";

        newWindow.document.body.style.margin = "0";
        newWindow.document.body.appendChild(iframe);

        if (window.focus) {
          newWindow.focus();
        }
      }

      openWindow1("./three.html", "shader", 800, 800);
    </script>
  </body>
</html>
